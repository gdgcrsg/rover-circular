<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GDGCRSG ‡¶≠‡¶∞‡ßç‡¶§‡¶ø ‡¶´‡¶∞‡¶Æ</title>
<style>
  * { box-sizing: border-box; margin: 0; padding: 0; }
  body { font-family: "Segoe UI", sans-serif; background: #f1f5f9; color: #1e293b; line-height: 1.5; }

  .header {
    display: flex; flex-wrap: wrap; align-items: center; justify-content: center; gap: 15px;
    padding: 20px; background: #0f172a; color: #fff; border-bottom: 4px solid #1d4ed8; text-align: center;
  }
  .header .logo { height: 70px; width: 70px; border-radius: 50%; border: 2px solid #fff; background: #fff; padding: 5px; }
  .header h1 { font-size: clamp(1.2rem, 2vw, 1.6rem); }
  .header p { font-size: clamp(0.8rem, 1.5vw, 1rem); opacity: 0.8; }

  .search-box { text-align: center; margin: 20px; }
  .search-box input {
    width: 80%; max-width: 400px; padding: 10px; border: 1px solid #ccc; border-radius: 8px; font-size: 1rem;
  }

  .container {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 20px;
    padding: 20px;
    align-items: stretch; /* ‡¶∏‡¶¨ ‡¶ï‡¶æ‡¶∞‡ßç‡¶° ‡¶è‡¶ï‡¶á ‡¶â‡¶ö‡ßç‡¶ö‡¶§‡¶æ‡ßü */
  }
  .card {
    background: #fff;
    border-radius: 16px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    padding: 20px;
    text-align: center;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
    cursor: pointer;

    /* ‡¶´‡¶ø‡¶ï‡ßç‡¶∏ */
    word-wrap: break-word;
    overflow-wrap: break-word;
    word-break: break-word;
  }
  .card:hover { transform: translateY(-5px); box-shadow: 0 8px 16px rgba(0,0,0,0.15); }
  .card img {
    width: 90px; height: 90px; border-radius: 50%; object-fit: cover; border: 3px solid #1d4ed8; margin-bottom: 10px;
  }
  .card h3 {
    margin: 8px 0 5px;
    font-size: 1.1rem;
    color: #0f172a;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: normal;
  }
  .card p {
    margin: 4px 0;
    font-size: 0.9rem;
    color: #334155;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: normal;
  }
  .label { font-weight: bold; color: #1e40af; }

  .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); justify-content: center; align-items: center; padding: 20px; }
  .modal-content { background: #fff; border-radius: 12px; max-width: 750px; width: 100%; padding: 20px; overflow-y: auto; max-height: 90vh; }
  .modal-header { display: flex; justify-content: space-between; align-items: center; border-bottom: 2px solid #e2e8f0; margin-bottom: 15px; padding-bottom: 8px; }
  .close { font-size: 1.5rem; cursor: pointer; font-weight: bold; }
  table { width: 100%; border-collapse: collapse; }
  th, td { padding: 10px; text-align: left; border-bottom: 1px solid #e2e8f0; }
  th { background: #f8fafc; color: #1e3a8a; width: 35%; }
  td { color: #334155; }

  .footer { background: #f8f9fa; padding: 20px 10px; text-align: center; font-size: 14px; color: #333; border-top: 1px solid #ddd; margin-top: 30px; }
  .footer a { color: #0d6efd; text-decoration: none; font-weight: 500; }
  .footer a:hover { color: #0a58ca; text-decoration: underline; }
  .developer { margin-top: 15px; display: flex; flex-wrap: wrap; align-items: center; justify-content: center; gap: 12px; font-size: 13px; color: #444; }
  .developer img { width: 40px; height: 40px; border-radius: 50%; border: 2px solid #ddd; object-fit: cover; }
  .developer strong { color: #000; }

  /* --- Password Overlay --- */
  #passwordScreen {
    position: fixed; top:0; left:0; width:100%; height:100%;
    background: #0f172a; display:flex; justify-content:center; align-items:center; flex-direction:column; z-index:2000; color:#fff; text-align:center; padding: 20px;
  }
  #passwordScreen h2 { font-size: clamp(1.5rem, 3vw, 2rem); margin-bottom: 10px; }
  #passwordScreen p { font-size: clamp(1rem, 2vw, 1.2rem); margin-bottom: 15px; }
  #passwordScreen input { padding:10px; border-radius:5px; border:none; margin-bottom: 10px; font-size:1rem; width:100%; max-width:300px; }
  #passwordScreen button { padding:10px 20px; border:none; border-radius:5px; background:#1d4ed8; color:#fff; cursor:pointer; font-size:1rem; }
  #errorMsg { color:red; margin-top:10px; display:none; font-size:0.9rem; }

  @media (max-width:768px){
    .container { grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); }
  }
</style>
</head>
<body>

<!-- Password Overlay -->
<div id="passwordScreen">
  <h2>Access Restricted</h2>
  <p>Enter the password to continue:</p>
  <input type="password" id="passwordInput" placeholder="Password">
  <button onclick="checkPassword()">Enter</button>
  <p id="errorMsg">Wrong password!</p>
</div>

<header class="header">
  <img class="logo" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEg2uoDdiCRQlbsyEYYACg2oAtkXr0VCXFRJi3vsEtKoOy4RA5mqlA04784903v09kSCp3YTV2vzJBsIaK0NnpKdtoVgT8vY4btXjxtfWRhUP-VzFL8KkColwJaTD9Pb9jq3cW_wdrlkx69s9MGDX3VMyjqlZS3xmIJfzLW4tz97eTf7ecDpgP_gnOZDwT8/s1024/1000038009.png" alt="Logo">
  <div>
    <h1>Gurudayal Govt. College Rover Scout Group - ‡¶∏‡¶π‡¶ö‡¶∞ ‡¶≠‡¶∞‡ßç‡¶§‡¶ø ‡¶Ü‡¶¨‡ßá‡¶¶‡¶®</h1>
    <p>"‡¶®‡¶§‡ßÅ‡¶® ‡¶∏‡¶¶‡¶∏‡ßç‡¶Ø, ‡¶®‡¶§‡ßÅ‡¶® ‡¶Ü‡¶∂‡¶æ, ‡¶Ö‡¶∏‡ßÄ‡¶Æ ‡¶∏‡¶Æ‡ßç‡¶≠‡¶æ‡¶¨‡¶®‡¶æ!" üåü</p>
  </div>
</header>

<div class="search-box">
  <input type="text" id="searchInput" placeholder="üîç ‡¶Ø‡ßá‡¶ï‡ßã‡¶®‡ßã ‡¶§‡¶•‡ßç‡¶Ø ‡¶¶‡¶ø‡ßü‡ßá ‡¶∏‡¶æ‡¶∞‡ßç‡¶ö ‡¶ï‡¶∞‡ßÅ‡¶®...">
</div>

<div class="container" id="cardsContainer"></div>

<div class="modal" id="profileModal">
  <div class="modal-content">
    <div class="modal-header">
      <h2 id="modalName"></h2>
      <span class="close" onclick="closeModal()">&times;</span>
    </div>
    <div id="modalDetails"></div>
  </div>
</div>

<div class="footer">
  <p>¬© <span id="year"></span> | All Rights Reserved <br>
    <a href="https://www.facebook.com/groups/gdcrover/?ref=share&mibextid=NSMWBT" target="_blank">
      Gurudayal Govt. College Rover Scout Group
    </a>
  </p>
  <div class="developer">
    <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhCDeXufBywGlGcvjFv5OaZNnGnIFboYZgUyo9NPcDt7SH5dWhG6Kv7wOtGMm5uBfA-2RCI41U0IWscQhEPQ9_6mHg192N68FaFDDE4HIfb8zXw6Ubafj329ToS6mYTqHo8Wu8aRidwjczDQZ4Id_t7K-E32b8ZthoHTIH3r86pWwfOmFdNvgcQOOeHBDc/s2000/1000038033.png" alt="Md. Ashfaqur Rahman Tanim">
    <div>
      <strong>Developed by</strong><br>
      Md. Ashfaqur Rahman Tanim<br>Rover Mate (Unit-3)
    </div>
  </div>
</div>

<script>
document.getElementById("year").textContent = new Date().getFullYear();

const sheetURL = "https://docs.google.com/spreadsheets/d/1xUqDLo96syqjPIfzaTR5UnL47XCYW4iVpTF9YURB6EY/export?format=tsv";
let allData = [];
let headers = [];

async function loadData() {
  const response = await fetch(sheetURL);
  const text = await response.text();
  const rows = text.trim().split("\n").map(r => r.split("\t"));
  headers = rows[0];
  allData = rows.slice(1);
  renderCards(allData);
}

function renderCards(data) {
  const container = document.getElementById("cardsContainer");
  container.innerHTML = "";
  data.forEach(row => {
    const obj = {};
    headers.forEach((h, i) => obj[h] = row[i]);
    const photo = obj["‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶õ‡¶¨‡¶ø"] || "https://via.placeholder.com/90";
    const name = obj["‡¶®‡¶æ‡¶Æ (‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡ßü)"] || "‡¶®‡¶æ‡¶Æ ‡¶®‡ßá‡¶á";
    const formNo = obj["‡¶´‡¶∞‡¶Æ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ (‡¶∞‡ßã‡¶≠‡¶æ‡¶∞ ‡¶°‡ßá‡¶® ‡¶•‡ßá‡¶ï‡ßá ‡¶∏‡¶∞‡¶æ‡¶∏‡¶∞‡¶ø ‡¶≠‡¶∞‡ßç‡¶§‡¶ø ‡¶´‡¶∞‡¶Æ ‡¶∏‡¶Ç‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶•‡¶æ‡¶ï‡¶≤‡ßá ‡¶´‡¶∞‡¶Æ‡ßá ‡¶â‡¶™‡¶∞-‡¶¨‡¶æ‡¶Æ ‡¶ï‡¶∞‡ßç‡¶£‡¶æ‡¶∞‡ßá ‡¶´‡¶∞‡¶Æ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶â‡¶≤‡ßç‡¶≤‡ßá‡¶ñ ‡¶∞‡ßü‡ßá‡¶õ‡ßá) ‡¶´‡¶∞‡¶Æ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶®‡¶æ ‡¶•‡¶æ‡¶ï‡¶≤‡ßá ‡¶è‡¶á ‡¶¨‡¶ï‡ßç‡¶∏ ‡¶ñ‡¶æ‡¶≤‡¶ø ‡¶∞‡¶æ‡¶ñ‡ßÅ‡¶®‡•§"];
    const mobile = obj["‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞"]?.slice(-11);
    const email = obj["Your email"];
    const className = obj["‡¶∂‡ßç‡¶∞‡ßá‡¶£‡¶ø"];
    const year = obj["‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶¨‡¶∞‡ßç‡¶∑"];
    const collegeId = obj["‡¶ï‡¶≤‡ßá‡¶ú ‡¶Ü‡¶á‡¶°‡¶ø ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞"];
    const dept = obj["‡¶¨‡¶ø‡¶≠‡¶æ‡¶ó"];
    const card = document.createElement("div");
    card.className = "card";
    card.innerHTML = `
      <img src="${photo}" alt="${name}">
      <h3>${name}</h3>
      ${formNo ? `<p><span class="label">Form No:</span> ${formNo}</p>` : ""}
      ${mobile ? `<p><span class="label">Mobile:</span> ${mobile}</p>` : ""}
      ${email ? `<p><span class="label">Email:</span> ${email}</p>` : ""}
      ${className ? `<p><span class="label">Class:</span> ${className}</p>` : ""}
      ${year ? `<p><span class="label">Academic Year:</span> ${year}</p>` : ""}
      ${collegeId ? `<p><span class="label">College ID:</span> ${collegeId}</p>` : ""}
      ${dept ? `<p><span class="label">Division:</span> ${dept}</p>` : ""}
    `;
    card.onclick = () => showProfile(obj, name);
    container.appendChild(card);
  });
}

function showProfile(obj, name) {
  const modal = document.getElementById("profileModal");
  document.getElementById("modalName").textContent = name;
  let table = "<table>";
  for (const [key, value] of Object.entries(obj)) {
    if (value && key !== "‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶õ‡¶¨‡¶ø" && !key.includes("‡¶ú‡¶®‡ßç‡¶Æ ‡¶®‡¶ø‡¶¨‡¶®‡ßç‡¶ß‡¶®")) {
      table += `<tr><th>${key}</th><td>${value}</td></tr>`;
    }
  }
  table += "</table>";
  document.getElementById("modalDetails").innerHTML = table;
  modal.style.display = "flex";
}

function closeModal() { document.getElementById("profileModal").style.display = "none"; }
window.onclick = e => { if(e.target === document.getElementById("profileModal")) closeModal(); }

document.getElementById("searchInput").addEventListener("input", function() {
  const query = this.value.toLowerCase();
  const filtered = allData.filter(row => row.some(col => col.toLowerCase().includes(query)));
  renderCards(filtered);
});

loadData();

/* --- Password Protection --- */
const passwordScreen = document.getElementById("passwordScreen");
const passwordInput = document.getElementById("passwordInput");
const errorMsg = document.getElementById("errorMsg");
const PASSWORD = "gdc36";

function checkPassword() {
  if(passwordInput.value === PASSWORD) {
    passwordScreen.style.display = "none";
  } else {
    errorMsg.style.display = "block";
  }
}

passwordInput.addEventListener("keypress", function(e){
  if(e.key === "Enter") checkPassword();
});
</script>

</body>
</html>
